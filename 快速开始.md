# 快速开始 (Quick Start)

## 已完成修改 ✓

系统已更新为**将相似款式的鞋子放在同一个文件夹中**。

## 新的输出结构

```
output/
├── similar_groups/              # 相似款分组
│   ├── duplicate_group_0000/    # 第1组（所有相似的鞋子都在这里）
│   │   ├── rep_shoe1.jpg        # 代表款
│   │   ├── sim_0.972_shoe2.jpg  # 相似款1
│   │   ├── sim_0.968_shoe3.jpg  # 相似款2
│   │   └── group_info.json
│   ├── similar_group_0001/      # 第2组
│   │   ├── rep_shoe5.jpg
│   │   ├── sim_0.891_shoe6.jpg
│   │   └── group_info.json
│   └── ...
└── unique/                      # 独特款（不相似的鞋子）
    ├── shoe10.jpg
    └── shoe15.jpg
```

## 关键特点

1. **每个文件夹包含一组相似的鞋子**
   - 代表款（rep_开头）
   - 所有相似的鞋子（sim_分数_开头）

2. **文件夹命名**
   - `duplicate_group_xxxx` - 极度相似（≥0.95）
   - `similar_group_xxxx` - 相似（0.85-0.95）

3. **独特款单独存放**
   - `unique/` 文件夹包含不与任何鞋子相似的款式

## 运行方法

```bash
# 基本用法
python main.py <图片文件夹>

# 示例
python main.py E:\shoes\factory_a

# 指定输出文件夹
python main.py E:\shoes\factory_a -o E:\shoes\results

# 快速模式（跳过背景移除）
python main.py E:\shoes\factory_a --no-bg-removal
```

## 使用场景

### 场景1：筛选鞋厂图片

1. 将鞋厂A的100张图片放在文件夹中
2. 运行：`python main.py factory_a_images`
3. 查看结果：
   - `similar_groups/` - 每个文件夹是一组相似的鞋子
   - `unique/` - 独特款式

### 场景2：对比多个鞋厂

```bash
python main.py factory_a -o results/factory_a
python main.py factory_b -o results/factory_b
python main.py factory_c -o results/factory_c
```

然后分别查看每个鞋厂的相似款分组。

## 调整相似度

如果发现分组不理想：

```bash
# 更严格（更少分组）
python main.py <文件夹> --duplicate-threshold 0.97 --similar-threshold 0.90

# 更宽松（更多分组）
python main.py <文件夹> --duplicate-threshold 0.93 --similar-threshold 0.80
```

## 查看详细信息

每个组文件夹中的 `group_info.json` 包含：
- 组ID
- 类型（duplicate/similar）
- 总图片数
- 代表款信息
- 所有相似款及其相似度分数

## 注意事项

1. **首次运行**会下载AI模型（约500MB），需要几分钟
2. **处理速度**：CPU约5-10秒/张
3. **支持格式**：JPG, PNG, BMP, WEBP

## 需要帮助？

- 详细说明：查看 `使用指南.md`
- 技术文档：查看 `README.md`
- 测试安装：运行 `python test_install.py`
